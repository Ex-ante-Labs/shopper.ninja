<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">

<dom-module id="shopper-auth">
  <template>
    <firebase-app auth-domain="shopper-ninja.firebaseapp.com" database-url="https://shopper-ninja.firebaseio.com"
        api-key="AIzaSyAifUgLHveo3BH3fr7ovdfySgB7vRSyX-0" storage-bucket="shopper-ninja.appspot.com">
    </firebase-app>
    <firebase-auth id="auth" user="{{user}}" provider="google" on-error="handleError"></firebase-auth>
    <paper-menu-button>
      <paper-button class="dropdown-trigger">sign in / sign up</paper-button>
      <paper-menu class="dropdown-content" attr-for-selected="provider" on-iron-select="_signIn">
        <paper-item provider="google">Google</paper-item>
        <paper-item provider="facebook">Facebook</paper-item>
        <paper-item provider="twitter">Twitter</paper-item>
        <paper-item provider="github">GitHub</paper-item>
        <paper-item provider="email-password">Email/Password</paper-item>
      </paper-menu>
    </paper-menu-button>
  </template>
  <script>
    Polymer({
      is: 'shopper-auth',
      _signIn: function (e) {
        return console.log(this.$.auth.signInWithPopup(e.target.selected))
      }
    });
  </script>
</dom-module>
